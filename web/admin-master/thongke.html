<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
        <script>
            function maxTL(){
                var bd = "";
                var kq = "";
                var xmlhttp = new XMLHttpRequest();
                xmlhttp.open("get", "jsp/thongke/maxTL.jsp", false);
                xmlhttp.send();

                var nhan = xmlhttp.responseText.trim();
                
                if (nhan === "empty")
                {
                    alert("rong");
                }
                bd = JSON.parse(nhan);
                kq = "";
                for (var i = 0; i < bd.length; i++) {
                    
                    kq +=   "<div class='row'><div class='col-sm-2'>"+bd[i].tentailieu + "</div>"
                            + "<div class='col-sm-2'>" + bd[i].tenuser + "</div>"
                    + "<div class='col-sm-2'>" + bd[i].gia + "</div>"
                            + "<div class='col-sm-2'>" + bd[i].lan + "</div></div>";            
                }           
                document.getElementById("tailieu").innerHTML = kq;           
    }
            
            function maxUser(){
                var bd = "";
                var kq = "";
                var xmlhttp = new XMLHttpRequest();
                xmlhttp.open("get", "jsp/thongke/maxUser.jsp", false);
                xmlhttp.send();

                var nhan = xmlhttp.responseText.trim();
                
                if (nhan === "empty")
                {
                    alert("rong");
                }
                bd = JSON.parse(nhan);
                kq = "";
                for (var i = 0; i < bd.length; i++) {
                    
                    kq +=   "<div class='row'><div class='col-sm-2'>"+bd[i].tenuser + "</div>"
                            + "<div class='col-sm-2'>" + bd[i].lan + "</div></div>";            
                }           
                document.getElementById("user").innerHTML = kq;               
            }
            
            
            
            
            
        </script>
        
        
        
        
        
    </head>
    <body>
        <div class="solandow">
        <a>TÀI LIỆU ĐƯỢC DOWNLOAD NHIỀU NHẤT</a>
        <div class="row ">
            <div class="col-sm-2"><strong>Tên tài liệu</strong></div>
            <div class="col-sm-2"><strong>Người up</strong></div>
            <div class="col-sm-2"><strong>Giá(VNĐ) </strong></div>    
            <div class="col-sm-2"><strong>Số lần download </strong></div>  
        </div>       
        <div id="tailieu"></div>
            <script>
                maxTL();
            </script>            
        </div>
        <br><br><br><br>    
        <div class="solandow">
        <a>USER ĐƯỢC DOWNLOAD TÀI LIỆU NHIỀU NHẤT</a>
        <div class="row ">
            <div class="col-sm-2"><strong>Tên User</strong></div> 
            <div class="col-sm-2"><strong>Số lần download </strong></div>  
        </div>       
        <div id="user"></div>
            <script>
                maxUser();
            </script>            
        </div>
        
    </body>
</html>
